{"version":3,"sources":["./src/app/services/contrato.service.ts","./src/app/models/responses/consulta-contrato-response.model.ts"],"names":[],"mappings":"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","file":"default~pages-actualizar-datos-actualizar-datos-module~pages-consultar-contrato2-consultar-contrato2-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Platform, ToastController, LoadingController, AlertController } from '@ionic/angular';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse, HttpParams } from '@angular/common/http';\r\nimport { ConfigHelper } from '../helpers/config.helper';\r\n\r\n// Modelos\r\nimport { ConfigModel } from '../models/config.model';\r\nimport { ConsultaContratoResponseModel } from '../models/responses/consulta-contrato-response.model';\r\n\r\n// Servicios\r\nimport { ConfiguracionService } from './configuracion.service';\r\nimport { ContratoModel } from '../models/contrato-model';\r\n\r\n\r\n// Plugins\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx';\r\nimport { Device } from '@ionic-native/device/ngx';\r\nimport { ContratoUpdateModel } from '../models/contrato-update-model';\r\nimport { OfflineService } from './offline.service';\r\nimport * as moment from 'moment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ContratoService {\r\n\r\n  config: ConfigModel = new ConfigModel();\r\n\r\n  constructor(\r\n    private platform: Platform,\r\n    private http: HttpClient,\r\n    private toastController: ToastController,\r\n    private loadingController: LoadingController,\r\n    private configuracionService: ConfiguracionService,\r\n    private alertController: AlertController,\r\n    private androidPermissions: AndroidPermissions,\r\n    private diagnostic: Diagnostic,\r\n    private geolocation: Geolocation,\r\n    private offline: OfflineService\r\n  ) {\r\n    this.config = this.configuracionService.config;\r\n  }\r\n\r\n  consultarContratoPorNumero(numeroContrato: string) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const params = new HttpParams().set('NumberContract', numeroContrato);\r\n      const configHelper = new ConfigHelper(this.config);\r\n      const httpOptions = {\r\n        headers: new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        params\r\n      };\r\n\r\n      let isOffline = localStorage.getItem('offlineMode') === 'true' ? true : false;\r\n\r\n      if(!isOffline){\r\n\r\n        this.loadingController.create({\r\n          message: 'Consultando contrato',\r\n          duration: 30000\r\n        }).then((loading) => {\r\n  \r\n          loading.present();\r\n  \r\n          this.http.post(`${configHelper.getApiUrl()}/contrato/searchnumbercontract`, null, httpOptions)\r\n            .subscribe((contrato: ConsultaContratoResponseModel) => {\r\n  \r\n              console.log(JSON.stringify(contrato));\r\n  \r\n              if (!contrato.Cedula) {\r\n                loading.dismiss();\r\n                this.mostrarToast('No se encontró el contrato, intente nuevamente.');\r\n                \r\n                reject();\r\n              } else {\r\n                loading.dismiss();\r\n                resolve(contrato);\r\n              }\r\n  \r\n            },\r\n              (error: HttpErrorResponse) => {\r\n  \r\n                loading.dismiss();\r\n                console.log(JSON.stringify(error))\r\n                reject();\r\n                this.mostrarToast('Error consultando contrato');\r\n  \r\n              });\r\n  \r\n        });\r\n      }\r\n      else{\r\n        this.loadingController.create({\r\n          message: 'Consultando contrato',\r\n          duration: 30000\r\n        }).then((loading) => {\r\n          this.offline.createDatabase().then(res => {\r\n              // tslint:disable-next-line: no-shadowed-variable\r\n              this.offline.getInfoContrato(numeroContrato).then((res: any) => {\r\n                const contrato: ConsultaContratoResponseModel = new ConsultaContratoResponseModel();\r\n                contrato.IdContrato =  res.IDCONTRATO;\r\n                contrato.FechaAfiliacion = res.FECHAAFILIACION;\r\n                contrato.FechaCobertura = res.PAGOHASTA;\r\n                // contrato.FechaCobertura  = res.FECHACOERTURA;\r\n                contrato.EstadoContrato = res.ESTADOCONTRATO;\r\n                contrato.Cedula = res.CEDULA;\r\n                contrato.Titular = res.TITULAR ;\r\n                contrato.Direccion = res.DIRECCION;\r\n                contrato.DireccionCobro = res.DIRECCIONCOBRO;\r\n                contrato.Telefono = res.TELEFONO ;\r\n                contrato.Celular = res.CELULAR;\r\n                contrato.Plan = res.PLAN;\r\n                contrato.Cuota = res.CUOTA ;\r\n                contrato.FechaUltimoPago = res.FECHAULTIMOPAGO;\r\n                contrato.NoRecibo = res.NORECIBO;\r\n                contrato.Valor = res.VALOR;\r\n                contrato.Departamento = res.DEPARTAMENTO;\r\n                contrato.DepartamentoCobro = res.DEPARTAMENTOCOBRO;\r\n                contrato.Municipio = res.MUNICIPIO;\r\n                contrato.MunicipioCobro = res.MUNICIPIOCOBRO;\r\n                contrato.Barrio = res.BARRIO;\r\n                contrato.BarrioCobro = res.BARRIOCOBRO;\r\n                contrato.Email = res.EMAIL;\r\n                \r\n\r\n                if (!contrato.Cedula) {\r\n                  loading.dismiss();\r\n                  this.mostrarToast('No se encontró el contrato, intente nuevamente.');\r\n                  \r\n                  reject();\r\n                } else {\r\n                  loading.dismiss();\r\n                  resolve(contrato);\r\n                }\r\n                \r\n              });\r\n          });\r\n        });\r\n        \r\n      }\r\n    })\r\n  }\r\n\r\n  consultarBeneficiarrios(cedula: string){\r\n\r\n\r\n    let isOffline = localStorage.getItem('offlineMode') === 'true' ? true : false;\r\n\r\n    \r\n    return new Promise((resolve, reject) => {\r\n\r\n      const params = new HttpParams().set('NumberId', cedula);\r\n      const configHelper = new ConfigHelper(this.config);\r\n      const httpOptions = {\r\n        headers: new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        params\r\n      };\r\n\r\n      if(!isOffline)\r\n      {\r\n          \r\n      \r\n          this.loadingController.create({\r\n            message: 'Consultando Beneficiarios',\r\n            duration: 30000\r\n          }).then((loading) => {\r\n    \r\n            loading.present();\r\n    \r\n            this.http.post(`${configHelper.getApiUrl()}/contrato/searchBene`, null, httpOptions)\r\n              .subscribe((beneficiarios: string[]) => {\r\n    \r\n                console.log(JSON.stringify(beneficiarios));\r\n    \r\n                if (beneficiarios.length === 0) {\r\n                  loading.dismiss();\r\n                  this.mostrarToast('No se encontraron Beneficiarios, intente nuevamente.');\r\n                  reject();\r\n                } else {\r\n                  loading.dismiss();\r\n                  resolve(beneficiarios);\r\n                }\r\n    \r\n              },\r\n                (error: HttpErrorResponse) => {\r\n    \r\n                  loading.dismiss();\r\n                  console.log(JSON.stringify(error))\r\n                  reject();\r\n                  this.mostrarToast('Error consultando Beneficiarios');\r\n    \r\n                });\r\n    \r\n          });\r\n        }\r\n        else{\r\n          this.loadingController.create({\r\n            message: 'Consultando Beneficiarios',\r\n            duration: 30000\r\n          }).then((loading) => {\r\n            loading.present();\r\n            this.offline.getBeneficiarios(cedula).then((beneficiarios: string[]) => {\r\n                loading.dismiss();\r\n                resolve(beneficiarios);\r\n            });\r\n          });\r\n    \r\n        }\r\n\r\n    });\r\n  }\r\n \r\n  \r\n\r\n  consultarUltimosPagos(contrato: string){\r\n    let isOffline = localStorage.getItem('offlineMode') === 'true' ? true : false;\r\n\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const params = new HttpParams().set('NumberId', contrato);\r\n      const configHelper = new ConfigHelper(this.config);\r\n      const httpOptions = {\r\n        headers: new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        params\r\n      };\r\n\r\n      if(!isOffline)\r\n      {\r\n\r\n      this.loadingController.create({\r\n        message: 'Consultando Ultimos Pagos',\r\n        duration: 30000\r\n      }).then((loading) => {\r\n\r\n        loading.present();\r\n\r\n        this.http.post(`${configHelper.getApiUrl()}/pago/searcPays`, null, httpOptions)\r\n          .subscribe((pagos: string[]) => {\r\n\r\n            console.log(JSON.stringify(pagos));\r\n\r\n            if (pagos.length === 0) {\r\n              loading.dismiss();\r\n              this.mostrarToast('No se encontraron Pagos, intente nuevamente.');\r\n              reject();\r\n            } else {\r\n              loading.dismiss();\r\n              resolve(pagos);\r\n            }\r\n\r\n          },\r\n            (error: HttpErrorResponse) => {\r\n\r\n              loading.dismiss();\r\n              console.log(JSON.stringify(error))\r\n              reject();\r\n              this.mostrarToast('Error consultando Pagos');\r\n\r\n            });\r\n\r\n      });\r\n    }\r\n    else{\r\n      this.loadingController.create({\r\n        message: 'Consultando Beneficiarios',\r\n        duration: 30000\r\n      }).then((loading) => {\r\n        loading.present();\r\n        this.offline.getUltimospagos(contrato).then((pagos: string[]) => {\r\n            loading.dismiss();\r\n            resolve(pagos);\r\n        });\r\n      });\r\n\r\n    }\r\n\r\n    });\r\n  }\r\n  cargarDepartamentos() {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const configHelper = new ConfigHelper(this.config);\r\n      this.http.get(`${configHelper.getApiUrl()}/contrato/departamentos`)\r\n        .subscribe((result: any[]) => {\r\n          console.log(JSON.stringify(result));\r\n          resolve(result);\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        console.log(JSON.stringify(error))\r\n        reject();\r\n        this.mostrarToast('Error realizando la consulta De departamentos');\r\n\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  cargarMunicipios(departamento: string) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const params = new HttpParams().set('Departamento', departamento);\r\n      const configHelper = new ConfigHelper(this.config);\r\n      const httpOptions = {\r\n        headers: new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        params\r\n      };\r\n\r\n      this.loadingController.create({\r\n        message: 'Consultando Municipios',\r\n        duration: 30000\r\n      }).then((loading) => {\r\n\r\n        loading.present();\r\n        this.http.post(`${configHelper.getApiUrl()}/contrato/municipios`, null, httpOptions)\r\n        //this.http.post('http://localhost:5008/api/contrato/municipios', null, httpOptions)\r\n          .subscribe((municipios: string[]) => {\r\n\r\n            console.log(JSON.stringify(municipios));\r\n\r\n            if (municipios.length === 0) {\r\n              loading.dismiss();\r\n              this.mostrarToast('No se encontraron Municipios, intente nuevamente.');\r\n              reject();\r\n            } else {\r\n              loading.dismiss();\r\n              resolve(municipios);\r\n            }\r\n\r\n          },\r\n            (error: HttpErrorResponse) => {\r\n\r\n              loading.dismiss();\r\n              console.log(JSON.stringify(error))\r\n              reject();\r\n              this.mostrarToast('Error consultando Municipios');\r\n\r\n            });\r\n\r\n      });\r\n\r\n    })\r\n  }\r\n\r\n  consultarContratoPorCedula(cedula: string) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const params = new HttpParams().set('NumberId', cedula);\r\n      const configHelper = new ConfigHelper(this.config);\r\n      const httpOptions = {\r\n        headers: new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        params\r\n      };\r\n  \r\n      const isOffline = localStorage.getItem('offlineMode') === 'true' ? true : false;\r\n      if(!isOffline)\r\n      {\r\n          this.loadingController.create({\r\n            message: 'Consultando contratos',\r\n            duration: 30000\r\n          }).then((loading) => {\r\n    \r\n            loading.present();\r\n    \r\n            this.http.post(`${configHelper.getApiUrl()}/contrato/searchnumberid`, null, httpOptions)\r\n              .subscribe((contrato: ConsultaContratoResponseModel[]) => {\r\n    \r\n                console.log(JSON.stringify(contrato));\r\n    \r\n                if (contrato.length === 0) {\r\n                  loading.dismiss();\r\n                  this.mostrarToast('No se encontraron contratos, intente nuevamente.');\r\n                  reject();\r\n                } else {\r\n                  loading.dismiss();\r\n                  resolve(contrato);\r\n                }\r\n\r\n              },\r\n                (error: HttpErrorResponse) => {\r\n    \r\n                  loading.dismiss();\r\n                  console.log(JSON.stringify(error))\r\n                  reject();\r\n                  this.mostrarToast('Error consultando contratos');\r\n    \r\n                });\r\n    \r\n          });\r\n      }\r\n      else{\r\n        this.loadingController.create({\r\n          message: 'Consultando contrato',\r\n          duration: 30000\r\n        }).then((loading) => {\r\n          this.offline.createDatabase().then(res => {\r\n              // tslint:disable-next-line: no-shadowed-variable\r\n              this.offline.getInfoCedula(cedula).then((res: any[]) => {\r\n                const  returncontrato: ConsultaContratoResponseModel[] = [];\r\n                const contrato: ConsultaContratoResponseModel = new ConsultaContratoResponseModel();\r\n                for (let i = 0; i < res.length ; i++) {\r\n                  contrato.IdContrato =  res[i].IDCONTRATO;\r\n                  contrato.FechaAfiliacion = res[i].FECHAAFILIACION;\r\n                  //contrato.FechaCobertura  = res[i].FECHACOERTURA;\r\n                  contrato.EstadoContrato = res[i].ESTADOCONTRATO;\r\n                  contrato.Cedula = res[i].CEDULA;\r\n                  contrato.FechaCobertura = res[i].PAGOHASTA;\r\n                  contrato.Titular = res[i].TITULAR ;\r\n                  contrato.Direccion = res[i].DIRECCION;\r\n                  contrato.DireccionCobro = res[i].DIRECCIONCOBRO;\r\n                  contrato.Telefono = res[i].TELEFONO ;\r\n                  contrato.Celular = res[i].CELULAR;\r\n                  contrato.Plan = res[i].PLAN;\r\n                  contrato.Cuota = res[i].CUOTA ;\r\n                  contrato.FechaUltimoPago = res[i].FECHAULTIMOPAGO;\r\n                  contrato.NoRecibo = res[i].NORECIBO;\r\n                  contrato.Valor = res[i].VALOR;\r\n                  contrato.Departamento = res[i].DEPARTAMENTO;\r\n                  contrato.DepartamentoCobro = res[i].DEPARTAMENTOCOBRO;\r\n                  contrato.Municipio = res[i].MUNICIPIO;\r\n                  contrato.MunicipioCobro = res[i].MUNICIPIOCOBRO;\r\n                  contrato.Barrio = res[i].BARRIO;\r\n                  contrato.BarrioCobro = res[i].BARRIOCOBRO;\r\n                  contrato.Email = res[i].EMAIL;\r\n                  returncontrato.push(contrato);\r\n                }\r\n                if (returncontrato.length === 0) {\r\n                  loading.dismiss();\r\n                  this.mostrarToast('No se encontraron contratos, intente nuevamente.');\r\n                  reject();\r\n                } else {\r\n                  loading.dismiss();\r\n                  resolve(returncontrato);\r\n                }\r\n              });\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  actualizarContrato(contrato: ContratoUpdateModel) {\r\n    console.log(\"los datos del contrato son\")\r\n    console.log(contrato)\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const configHelper = new ConfigHelper(this.config);\r\n      const httpOptions = {\r\n        headers: new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n        })\r\n      };\r\n    \r\n      this.loadingController.create({\r\n        message: 'Actualizando Contrato',\r\n        duration: 30000\r\n      }).then((loading) => {\r\n        loading.present();\r\n        /// this.http.post('http://localhost:5008/api/contrato/updatecontract', contrato, httpOptions)\r\n        this.http.post(`${configHelper.getApiUrl()}/contrato/updatecontract`, contrato, httpOptions)\r\n          .subscribe((result: string) => {\r\n            if (result === '-1'){\r\n              this.mostrarAlerta('Actualizando Contrato' , 'No se pudo Actualizar el Contrato.');\r\n              loading.dismiss();\r\n            } else {\r\n              this.mostrarAlerta('Actualizando Contrato' , result );\r\n              loading.dismiss();\r\n              resolve(null);\r\n            }\r\n          },\r\n            (error: HttpErrorResponse) => {\r\n\r\n              loading.dismiss();\r\n              reject();\r\n              this.mostrarToastSimple('Error Actualizando el Contrato');\r\n          });\r\n\r\n      });\r\n    });\r\n  }\r\n\r\n  mostrarAlertSimple(titulo: string, texto: string) {\r\n    this.alertController.create({\r\n      header: titulo,\r\n      message: texto,\r\n      buttons: [{\r\n        role: 'cancel',\r\n        text: 'Ok'\r\n      }]\r\n    }).then((myAlert) => {\r\n      myAlert.present();\r\n    });\r\n  }\r\n\r\n\r\n  mostrarAlerta = (titulo: string , mensaje: string) => {\r\n    this.alertController.create({\r\n      header: titulo,\r\n      message: mensaje,\r\n      buttons: [{\r\n        role: 'cancel',\r\n        text: 'Ok',\r\n      }]\r\n    }).then((alert) => {\r\n      alert.present();\r\n    });\r\n  }\r\n\r\n  prepararRegistroContrato(contratoModel: ContratoUpdateModel) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      if (!contratoModel.contrato) {\r\n        this.mostrarToastSimple('Por favor seleccione el Contrato');\r\n        reject();\r\n        return;\r\n      }\r\n\r\n      \r\n      if (!this.platform.is('android')) {\r\n        contratoModel.posx = '';\r\n        contratoModel.posy = '';\r\n        resolve(contratoModel);\r\n\r\n      } else {\r\n\r\n        // Validaciones de permisos en Android\r\n\r\n        this.validarAccesoGPS().then(() => {\r\n\r\n          this.validarGPSActivo().then(() => {\r\n\r\n            this.validarAccesoDispositivo().then(() => {\r\n\r\n              this.loadingController.create({\r\n                message: 'Obteniendo geolocalización',\r\n                duration: 5300\r\n              }).then((loading) => {\r\n\r\n                loading.present();\r\n\r\n                // Obtenemos la geolocalización\r\n                this.geolocation.getCurrentPosition({\r\n                  timeout: 5000, \r\n                  enableHighAccuracy: true\r\n                }).then((resp) => {\r\n                  loading.dismiss();\r\n\r\n                  contratoModel.posx = String(resp.coords.latitude);\r\n                  contratoModel.posy = String(resp.coords.longitude);\r\n\r\n                  // Mostrar modal de confirmación\r\n                  resolve(contratoModel);\r\n\r\n                }).catch((error) => {\r\n                  loading.dismiss();\r\n                  this.mostrarToastSimple('Error obteniendo la geolocalización, intente de nuevo');\r\n                  //reject();\r\n                  contratoModel.posx = '';\r\n                  contratoModel.posy = '';\r\n\r\n                  // Mostrar modal de confirmación\r\n                  resolve(contratoModel);\r\n                });\r\n\r\n              });\r\n\r\n            }).catch(() => {\r\n              reject();\r\n            });\r\n\r\n          }).catch(() => {\r\n            reject();\r\n          });\r\n\r\n        }).catch(() => {\r\n          reject();\r\n        });\r\n\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  private validarAccesoGPS() {\r\n    return new Promise((resolve, reject) => {\r\n      this.diagnostic.isLocationAuthorized().then((authorized) => {\r\n\r\n        console.log(`¿Autorizado permiso de GPS?: ${authorized ? 'SI' : 'NO'}`);\r\n\r\n        if (!authorized) {\r\n          // No está autorizada la app\r\n\r\n          this.alertController.create({\r\n            header: 'Permiso uso de GPS',\r\n            message: 'Necesitamos su permiso para acceder al GPS antes de continuar.',\r\n            buttons: [{\r\n              role: 'cancel',\r\n              text: 'Cancelar',\r\n              handler: () => {\r\n                reject();\r\n              }\r\n            }, {\r\n              text: 'De acuerdo',\r\n              handler: () => {\r\n\r\n                this.diagnostic.requestLocationAuthorization().then(() => {\r\n                  resolve(null);\r\n                }).catch(() => {\r\n                  this.mostrarToastSimple('No se concedió acceso al GPS');\r\n                  reject();\r\n                });\r\n\r\n              }\r\n            }]\r\n          }).then((myAlert) => {\r\n            myAlert.present();\r\n          });\r\n\r\n        } else {\r\n          resolve(null);\r\n        }\r\n\r\n      }).catch((error) => {\r\n        this.mostrarToastSimple('Error comprobando autorizaciòn de GPS');\r\n        reject();\r\n      })\r\n    });\r\n  }\r\n\r\n  private validarGPSActivo() {\r\n    return new Promise((resolve, reject) => {\r\n      this.diagnostic.isGpsLocationAvailable().then((enabled) => {\r\n\r\n        console.log(`¿Esta activado GPS?: ${enabled ? 'SI' : 'NO'}`);\r\n\r\n        if (!enabled) {\r\n          // No está activo el GPS\r\n\r\n          this.alertController.create({\r\n            header: 'Activar GPS',\r\n            message: 'Por favor active el GPS en el modo Alta precisión antes de continuar.',\r\n            buttons: [{\r\n              role: 'cancel',\r\n              text: 'Cancelar',\r\n              handler: () => {\r\n                reject();\r\n              }\r\n            }, {\r\n              text: 'De acuerdo',\r\n              handler: () => {\r\n                this.diagnostic.switchToLocationSettings();\r\n                reject();\r\n              }\r\n            }]\r\n          }).then((myAlert) => {\r\n            myAlert.present();\r\n          });\r\n\r\n        } else {\r\n          resolve(null);\r\n        }\r\n\r\n      }).catch((error) => {\r\n        this.mostrarToastSimple('Error comprobando GPS activo');\r\n        reject();\r\n      })\r\n    });\r\n  }\r\n\r\n// Para consultar el IMEI\r\nprivate validarAccesoDispositivo() {\r\n  return new Promise((resolve, reject) => {\r\n\r\n    this.androidPermissions.checkPermission(\r\n      this.androidPermissions.PERMISSION.READ_PHONE_STATE\r\n    ).then((hasPermission) => {\r\n\r\n      console.log(`¿Autorizado permiso de estado de dispositivo?: ${hasPermission ? 'SI' : 'NO'}`);\r\n\r\n      if (!hasPermission) {\r\n\r\n        this.alertController.create({\r\n          header: 'Permiso estado dispositivo',\r\n          message: 'Necesitamos consultar el estado del dispositivo, por favor concedanos el permiso antes de continuar.',\r\n          buttons: [{\r\n            role: 'cancel',\r\n            text: 'Cancelar',\r\n            handler: () => {\r\n              reject();\r\n            }\r\n          }, {\r\n            text: 'De acuerdo',\r\n            handler: () => {\r\n\r\n              // Solicitar permiso\r\n              this.androidPermissions.requestPermission(\r\n                this.androidPermissions.PERMISSION.READ_PHONE_STATE\r\n              ).then(() => {\r\n\r\n                resolve(null);\r\n\r\n              }).catch(() => {\r\n\r\n                reject();\r\n\r\n              });\r\n\r\n            }\r\n          }]\r\n        }).then((myAlert) => {\r\n          myAlert.present();\r\n        });\r\n\r\n      } else {\r\n\r\n        resolve(null);\r\n\r\n      }\r\n\r\n    }).catch((error) => {\r\n      this.mostrarToastSimple('Error comprobando autorizaciòn de estado de dispositivo');\r\n      reject();\r\n    });\r\n\r\n  });\r\n}\r\n\r\n  private mostrarToastSimple(texto: string) {\r\n    this.toastController.create({\r\n      message: texto,\r\n      duration: 2000\r\n    }).then(toast => {\r\n      toast.present();\r\n    });\r\n  }\r\n  private mostrarToast(texto: string) {\r\n    this.toastController.create({\r\n      message: texto,\r\n      duration: 2000\r\n    }).then(toast => {\r\n      toast.present();\r\n    });\r\n  }\r\n}\r\n","// Informaciòn que retorna el servidor al consultar un contrato\r\nexport class ConsultaContratoResponseModel {\r\n    IdContrato: string;\r\n    FechaAfiliacion: string;\r\n    FechaCobertura: string;\r\n    EstadoContrato: string;\r\n    Cedula: string;\r\n    Titular: string;\r\n    Direccion: string;\r\n    DireccionCobro: string;\r\n    Telefono: string;\r\n    Celular: string;\r\n    Plan: string;\r\n    Cuota: number;\r\n    FechaUltimoPago: string;\r\n    NoRecibo: string;\r\n    Valor: number;\r\n    Departamento: string;\r\n    DepartamentoCobro: string;\r\n    Municipio: string;\r\n    MunicipioCobro: string;\r\n    Barrio: string;\r\n    BarrioCobro: string;\r\n    Email: string;\r\n}"],"sourceRoot":"webpack:///"}