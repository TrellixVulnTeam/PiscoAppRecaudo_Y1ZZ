{"version":3,"sources":["./src/app/pages/consultar-pago/consultar-pago.module.ts","./src/app/pages/consultar-pago/consultar-pago.page.scss","./src/app/pages/consultar-pago/consultar-pago.page.html","./src/app/pages/consultar-pago/consultar-pago.page.ts"],"names":[],"mappings":"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","file":"pages-consultar-pago-consultar-pago-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ConsultarPagoPage } from './consultar-pago.page';\r\nimport { OwnComponentsModule } from 'src/app/own-components/own-components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConsultarPagoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    OwnComponentsModule\r\n  ],\r\n  declarations: [ConsultarPagoPage]\r\n})\r\nexport class ConsultarPagoPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb25zdWx0YXItcGFnby5wYWdlLnNjc3MifQ== */\";","export default \"<app-header titulo=\\\"consultar pago\\\"></app-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-grid fixed class=\\\"ion-margin-top\\\">\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"5\\\">Nro de Recibo</ion-col>\\r\\n      <ion-col size=\\\"7\\\">\\r\\n        <ion-input type=\\\"text\\\" placeholder=\\\"Search\\\"  [(ngModel)]=\\\"NroPago\\\"></ion-input>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n        <ion-button color=\\\"danger\\\" (click)=\\\"consultar()\\\">\\r\\n          Consultar\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n  <app-datos-pago [pago]=\\\"pago\\\"></app-datos-pago>\\r\\n  \\r\\n</ion-content>\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { ConsultaPagoModel } from \"src/app/models/consulta-pago.model\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { ConfigHelper } from \"../../helpers/config.helper\";\r\nimport { ConfigModel } from \"../../models/config.model\";\r\nimport { AlertController } from \"@ionic/angular\";\r\nimport { ConfiguracionService } from \"../../services/configuracion.service\";\r\nimport * as moment from \"moment\";\r\nimport { OfflineService } from \"src/app/services/offline.service\";\r\n\r\n@Component({\r\n  selector: \"app-consultar-pago\",\r\n  templateUrl: \"./consultar-pago.page.html\",\r\n  styleUrls: [\"./consultar-pago.page.scss\"],\r\n})\r\nexport class ConsultarPagoPage implements OnInit {\r\n  pago: ConsultaPagoModel = null;\r\n  terminoBusqueda: string;\r\n  statusOffline: boolean;\r\n  NroPago: string;\r\n  config: ConfigModel = new ConfigModel();\r\n  constructor(\r\n    private http: HttpClient,\r\n    private alert: AlertController,\r\n    private configuracionService: ConfiguracionService,\r\n    private offline: OfflineService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.NroPago = \"\";\r\n    const pago = new ConsultaPagoModel();\r\n\r\n    // pago.Contrato = 'IND485488';\r\n    // pago.Cuota = 18560;\r\n    // pago.Cedula = '2255448545';\r\n    // pago.Nombre = 'Pepita Jimenez';\r\n    // pago.FechaPago = 'Abril 21 2019';\r\n    // pago.Total = 60220;\r\n    // pago.PagoHasta = 'Julio 30 2019';\r\n    // pago.NumeroDocumento = 'RC45488888';\r\n    // pago.Usuario = 'holausuario';\r\n    // pago.Terminal = 'kaskdnaudquwiu912';\r\n    // pago.Observaciones = 'Un comentario de \\n prueba que se hizo al realizar el pago';\r\n\r\n    this.pago = pago;\r\n  }\r\n\r\n  consultar() {\r\n    this.statusOffline = localStorage.getItem(\"offlineMode\") === \"true\" ? true : false;\r\n\r\n    if (this.statusOffline) {\r\n\r\n      this.offline.createDatabase().then(res => {\r\n        this.offline.getConsultarPagos(this.NroPago).then((res:any) => {\r\n\r\n           \r\n          this.pago.Contrato = res.IDCONTRATO;\r\n            this.pago.Cuota = res.CUOTAMENSUAL;\r\n            this.pago.Cedula = res.IDPERSONA;\r\n            this.pago.Nombre = res.TITULAR;\r\n            this.pago.FechaPago = res.FECHAPAGOR;\r\n            this.pago.Total = res.VALOR;\r\n\r\n           this.pago.Sincronizar = res.SINCRONIZAR;\r\n\r\n            this.pago.PagoHasta = null;\r\n            \r\n            \r\n            this.pago.PagoDesde = null;\r\n            \r\n            this.pago.NumeroDocumento = res.NumeroDocumento;\r\n\r\n            this.pago.Usuario = res.USUARIO;\r\n            this.pago.Terminal = res.MAQUINA;\r\n            this.pago.Observaciones = res.OBSERVACIONES;\r\n            this.pago.Concepto ='';\r\n\r\n            \r\n              this.pago.PVisita = null;\r\n            \r\n\r\n            this.pago.Anulado = res.Anulado;\r\n            this.pago.ValorLetras = '';\r\n            this.pago.Departamento = '';\r\n            this.pago.Ciudad ='';\r\n\r\n            this.pago.Vdesde ='';\r\n            this.pago.VlrCto = 0;\r\n\r\n            this.pago.Vhasta = '';\r\n            this.pago.VlrDctoPago = res.DESCUENTO;\r\n            this.pago.VlrIva = 0;\r\n            this.pago.VlrSaldo = 0;\r\n            this.pago.FormaPago = res.FORMAPAGO;\r\n            console.log(\"la forma de pago es \" + this.pago.FormaPago);\r\n        });\r\n    });\r\n\r\n\r\n    } else {\r\n      const configHelper = new ConfigHelper(this.configuracionService.config);\r\n      const httpOptions = {\r\n        headers: new HttpHeaders({\r\n          \"Content-Type\": \"application/json\",\r\n        }),\r\n      };\r\n      this.http\r\n        .post(\r\n          `${configHelper.getApiUrl()}/pago/searchpago?NroPago=${this.NroPago}`,\r\n          {},\r\n          httpOptions\r\n        )\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.pago.Contrato = res.Contrato;\r\n            this.pago.Cuota = res.Cuota;\r\n            this.pago.Cedula = res.Cedula;\r\n            this.pago.Nombre = res.Nombre;\r\n            this.pago.FechaPago = res.FechaPago;\r\n            this.pago.Total = res.Total;\r\n\r\n            if (res.PagoHasta !== null) {\r\n              this.pago.PagoHasta = res.PagoHasta;\r\n              console.log(\"el pago consulta hasta es \" + this.pago.PagoHasta);\r\n            } else {\r\n              this.pago.PagoHasta = null;\r\n            }\r\n            if (res.PagoDesde !== null) {\r\n              this.pago.PagoDesde = res.PagoDesde;\r\n            } else {\r\n              this.pago.PagoDesde = null;\r\n            }\r\n            this.pago.NumeroDocumento = res.NumeroDocumento;\r\n            this.pago.Sincronizar = 1;\r\n\r\n            this.pago.Usuario = res.Usuario;\r\n            this.pago.Terminal = res.Terminal;\r\n            this.pago.Observaciones = res.Observaciones;\r\n            this.pago.Concepto = res.Concepto;\r\n\r\n            if (res.PVisita !== null) {\r\n              this.pago.PVisita = res.PVisita;\r\n            } else {\r\n              this.pago.PVisita = null;\r\n            }\r\n\r\n            this.pago.Anulado = res.Anulado;\r\n            this.pago.ValorLetras = res.Valorenletras;\r\n            this.pago.Departamento = res.Departamento;\r\n            this.pago.Ciudad = res.Municipio;\r\n\r\n            this.pago.Vdesde = res.Vdesde;\r\n            this.pago.VlrCto = res.VlrCto;\r\n\r\n            this.pago.Vhasta = res.Vhasta;\r\n            this.pago.VlrDctoPago = res.VlrDctoPago;\r\n            this.pago.VlrIva = res.VlrIva;\r\n            this.pago.VlrSaldo = res.VlrSaldo;\r\n            this.pago.FormaPago = res.FormaPago;\r\n            console.log(\"la forma de pago es \" + this.pago.FormaPago);\r\n          },\r\n          (err) => {\r\n            this.alert\r\n              .create({\r\n                header: \"Error\",\r\n                message: err.message,\r\n                buttons: [\"Ok\"],\r\n              })\r\n              .then((obj) => {\r\n                obj.present();\r\n              });\r\n          }\r\n        );\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}