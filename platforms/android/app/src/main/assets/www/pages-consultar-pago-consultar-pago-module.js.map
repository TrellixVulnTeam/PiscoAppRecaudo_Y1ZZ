{"version":3,"sources":["./src/app/pages/consultar-pago/consultar-pago.module.ts","./src/app/pages/consultar-pago/consultar-pago.page.scss","./src/app/pages/consultar-pago/consultar-pago.page.html","./src/app/pages/consultar-pago/consultar-pago.page.ts"],"names":[],"mappings":"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","file":"pages-consultar-pago-consultar-pago-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ConsultarPagoPage } from './consultar-pago.page';\r\nimport { OwnComponentsModule } from 'src/app/own-components/own-components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConsultarPagoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    OwnComponentsModule\r\n  ],\r\n  declarations: [ConsultarPagoPage]\r\n})\r\nexport class ConsultarPagoPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb25zdWx0YXItcGFnby5wYWdlLnNjc3MifQ== */\";","export default \"<app-header titulo=\\\"consultar pago\\\"></app-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-grid fixed class=\\\"ion-margin-top\\\">\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"5\\\">Nro de Recibo</ion-col>\\r\\n      <ion-col size=\\\"7\\\">\\r\\n        <ion-input type=\\\"text\\\" placeholder=\\\"Search\\\"  [(ngModel)]=\\\"NroPago\\\"></ion-input>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n        <ion-button color=\\\"danger\\\" (click)=\\\"consultar()\\\">\\r\\n          Consultar\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n  <app-datos-pago [pago]=\\\"pago\\\"></app-datos-pago>\\r\\n  \\r\\n</ion-content>\";","import { Component, OnInit } from '@angular/core';\r\nimport { ConsultaPagoModel } from 'src/app/models/consulta-pago.model';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { ConfigHelper } from '../../helpers/config.helper';\r\nimport { ConfigModel } from '../../models/config.model';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ConfiguracionService } from '../../services/configuracion.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-consultar-pago',\r\n  templateUrl: './consultar-pago.page.html',\r\n  styleUrls: ['./consultar-pago.page.scss'],\r\n})\r\nexport class ConsultarPagoPage implements OnInit {\r\n\r\n  pago: ConsultaPagoModel = null;\r\n  terminoBusqueda: string;\r\n  NroPago: string;\r\n  config: ConfigModel = new ConfigModel();\r\n  constructor(private http: HttpClient, \r\n    private alert: AlertController,\r\n    private configuracionService: ConfiguracionService) { }\r\n\r\n  ngOnInit() {\r\n    this.NroPago = '';\r\n    const pago = new ConsultaPagoModel();\r\n\r\n    // pago.Contrato = 'IND485488';\r\n    // pago.Cuota = 18560;\r\n    // pago.Cedula = '2255448545';\r\n    // pago.Nombre = 'Pepita Jimenez';\r\n    // pago.FechaPago = 'Abril 21 2019';\r\n    // pago.Total = 60220;\r\n    // pago.PagoHasta = 'Julio 30 2019';\r\n    // pago.NumeroDocumento = 'RC45488888';\r\n    // pago.Usuario = 'holausuario';\r\n    // pago.Terminal = 'kaskdnaudquwiu912';\r\n    // pago.Observaciones = 'Un comentario de \\n prueba que se hizo al realizar el pago';\r\n\r\n    this.pago = pago;\r\n  }\r\n\r\n  consultar() {\r\n    const configHelper = new ConfigHelper(this.configuracionService.config);\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n      })\r\n    };\r\n    this.http.post(`${configHelper.getApiUrl()}/pago/searchpago?NroPago=${this.NroPago}`, { }, httpOptions).subscribe((res: any)=>{\r\n      this.pago.Contrato = res.Contrato;\r\n      this.pago.Cuota = res.Cuota;\r\n      this.pago.Cedula = res.Cedula;\r\n      this.pago.Nombre = res.Nombre;\r\n      this.pago.FechaPago = moment(res.FechaPago).format('MMMM DD YYYY');\r\n      this.pago.Total = res.Total;\r\n      \r\n      \r\n      if(res.PagoHasta !== null)\r\n      {\r\n          this.pago.PagoHasta =   moment(res.PagoHasta).format('MMM DD, YYYY');\r\n      }\r\n      else{\r\n        this.pago.PagoHasta = null;\r\n      }\r\n      if(res.PagoDesde !== null)\r\n      {\r\n        this.pago.PagoDesde =   moment(res.PagoDesde).format('MMMM DD YYYY');  \r\n      }\r\n      else{\r\n        this.pago.PagoDesde = null;\r\n      }\r\n      this.pago.NumeroDocumento = res.NumeroDocumento;\r\n      \r\n      this.pago.Usuario = res.Usuario;\r\n      this.pago.Terminal = res.Terminal;\r\n      this.pago.Observaciones = res.Observaciones;\r\n      this.pago.Concepto = res.Concepto;\r\n      \r\n      \r\n      if(res.PVisita !== null){\r\n        this.pago.PVisita = res.PVisita;\r\n      }\r\n      else{\r\n        this.pago.PVisita = null;\r\n      }\r\n\r\n\r\n      this.pago.Anulado = res.Anulado;\r\n      this.pago.ValorLetras = res.Valorenletras;\r\n      this.pago.Departamento = res.Departamento;\r\n      this.pago.Ciudad = res.Municipio;\r\n\r\n      this.pago.Vdesde = res.Vdesde;\r\n      this.pago.VlrCto = res.VlrCto;\r\n      \r\n      this.pago.Vhasta = res.Vhasta;\r\n      this.pago.VlrDctoPago = res.VlrDctoPago;\r\n      this.pago.VlrIva = res.VlrIva;\r\n      this.pago.VlrSaldo = res.VlrSaldo;\r\n\r\n      }, err=>{\r\n      this.alert.create({\r\n        header: 'Error',\r\n        message: err.message,\r\n        buttons: ['Ok']\r\n      }).then(obj=>{\r\n        obj.present();\r\n      })\r\n    });\r\n  };\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}