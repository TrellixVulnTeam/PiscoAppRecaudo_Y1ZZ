{"version":3,"sources":["./src/app/pages/config/config.page.html","./src/app/pages/config/config.page.ts","./src/app/pages/config/config.page.scss","./src/app/pages/config/config.module.ts"],"names":[],"mappings":"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","file":"pages-config-config-module.js","sourcesContent":["export default \"<app-header titulo=\\\"ConfiguraciÃ³n\\\"></app-header>\\r\\n\\r\\n<ion-content>\\r\\n    <ion-grid fixed>\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n                <ion-item>\\r\\n                    <ion-label position=\\\"fixed\\\">Ip servidor</ion-label>\\r\\n                    <ion-input #servidorIp autofocus=\\\"true\\\" placeholder=\\\"Ejemplo: 127.0.0.1\\\" type=\\\"text\\\" [value]=\\\"config.servidorIp\\\" (ionChange)=\\\"actualizarcampoConfig('servidorIp', servidorIp.value)\\\"></ion-input>\\r\\n                </ion-item>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-margin-bottom\\\">\\r\\n            <ion-col>\\r\\n                <ion-item>\\r\\n                    <ion-label position=\\\"fixed\\\">Puerto</ion-label>\\r\\n                    <ion-input #servidorPuerto placeholder=\\\"Ejemplo: 5544\\\" type=\\\"text\\\" [value]=\\\"config.servidorPuerto\\\" (ionChange)=\\\"actualizarcampoConfig('servidorPuerto', servidorPuerto.value)\\\">\\r\\n                    </ion-input>\\r\\n                </ion-item>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-text-center\\\">\\r\\n            <ion-col>\\r\\n                <p>Seleccione el logo de la empresa</p>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n\\r\\n                <ion-thumbnail class=\\\"logo-empresa borde\\\" (click)=\\\"cambiarLogoEmpresaClick()\\\">\\r\\n                    <ion-icon color=\\\"medium\\\" *ngIf=\\\"!config.logoEmpresa\\\" name=\\\"ios-image\\\"></ion-icon>\\r\\n                    <ion-img *ngIf=\\\"config.logoEmpresa\\\" [src]=\\\"config.logoEmpresaUtilizable\\\"></ion-img>\\r\\n                </ion-thumbnail>\\r\\n\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row *ngIf=\\\"mostrarRuta\\\">\\r\\n            <ion-col size=\\\"12\\\">\\r\\n                <p *ngIf=\\\"config.logoEmpresa\\\">\\r\\n                    {{config.logoEmpresa}}\\r\\n                </p>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n                <ion-button color=\\\"danger\\\" expand=\\\"block\\\" (click)=\\\"guardarConfiguracionClick()\\\">\\r\\n                    Guardar\\r\\n                </ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n                <ion-button color=\\\"danger\\\" expand=\\\"block\\\" (click)=\\\"configurarImpresoraClick()\\\">\\r\\n                    Configurar impresora\\r\\n                </ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n                <ion-button color=\\\"danger\\\" expand=\\\"block\\\" (click)=\\\"ValidarLicencia()\\\">\\r\\n                    Validar Licencia\\r\\n                </ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n                <ion-button color=\\\"danger\\\" expand=\\\"block\\\">\\r\\n                    V. 03/May/2021\\r\\n                </ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n    </ion-grid>\\r\\n\\r\\n</ion-content>\";","import { Component, OnInit } from '@angular/core';\r\nimport { ToastController, Platform, AlertController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\n\r\n// plugins\r\nimport { ImagePicker, ImagePickerOptions } from '@ionic-native/image-picker/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\r\n\r\n// Modelos\r\nimport { ErrorNativeStorage } from 'src/app/interfaces/error-native-storage';\r\nimport { ConfigModel } from './../../models/config.model';\r\n\r\n// Servicios\r\nimport { ConfiguracionService } from './../../services/configuracion.service';\r\nimport { PrintService } from '../../services/print.service';\r\n\r\nimport { SesionService } from './../../services/sesion.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-config',\r\n  templateUrl: './config.page.html',\r\n  styleUrls: ['./config.page.scss'],\r\n})\r\nexport class ConfigPage implements OnInit {\r\n\r\n  config: ConfigModel = new ConfigModel();\r\n  mostrarRuta: boolean = false;\r\n\r\n  constructor(\r\n    private platform: Platform,\r\n    private router: Router,\r\n    private toastController: ToastController,\r\n    private webview: WebView,\r\n    private file: File,\r\n    private imagePicker: ImagePicker,\r\n    private configuracionService: ConfiguracionService,\r\n    private print: PrintService,\r\n    private alert: AlertController,\r\n    private sesionService: SesionService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.platform.ready().then(() => {\r\n      // Cargamos la configuraciÃ³n en pantalla\r\n\r\n      this.config = this.configuracionService.config;\r\n    });\r\n  }\r\n\r\n  actualizarcampoConfig = (campo: string, valor: string) => {\r\n    this.config[campo] = valor;\r\n  }\r\n\r\n  cambiarLogoEmpresaClick() {\r\n\r\n    if (!this.platform.is('cordova')) {\r\n      this.mostrarToast('Esta funcionalidad sÃ³lo es permitida en Android o IOS');\r\n      return;\r\n    }\r\n\r\n    const options: ImagePickerOptions = {\r\n      maximumImagesCount: 1\r\n    }\r\n\r\n    this.imagePicker.getPictures(options)\r\n      .then((results) => {\r\n\r\n        // tslint:disable-next-line: prefer-for-of\r\n        for (var i = 0; i < results.length; i++) {\r\n\r\n          const rutaArchivoActual = results[i];\r\n          const directorioActual = rutaArchivoActual.substr(0, rutaArchivoActual.lastIndexOf('/'));\r\n          const nombreArchivo = rutaArchivoActual.substr((rutaArchivoActual.lastIndexOf('/') + 1));\r\n          const extensionArchivo = nombreArchivo.substr(nombreArchivo.lastIndexOf('.'));\r\n          const nuevoDirectorio = `${this.file.dataDirectory}logos/`;\r\n          const nuevoNombreArchivo = `logo_empresa${extensionArchivo}`;\r\n\r\n          this.file.resolveDirectoryUrl(this.file.dataDirectory)\r\n            .then((directoryEntry) => {\r\n\r\n              directoryEntry.getDirectory('logos', { create: true }, (logosEntry) => {\r\n\r\n                this.file.moveFile(directorioActual, nombreArchivo, nuevoDirectorio, nuevoNombreArchivo)\r\n                  .then((archivoMovido) => {\r\n\r\n                    this.config.logoEmpresa = archivoMovido.toURL();\r\n                    this.actualizaLogoEmpresa();\r\n\r\n                    console.log(`El archivo se movio desde ${rutaArchivoActual} a ${archivoMovido.toURL()}`);\r\n\r\n                  })\r\n                  .catch((error) => {\r\n                    this.mostrarToast('Error moviendo el archivo');\r\n                  });\r\n\r\n              }, (error) => {\r\n                this.mostrarToast('Error obteniendo diectorio de logos');\r\n              });\r\n\r\n            })\r\n            .catch((error) => {\r\n              this.mostrarToast('Error resolviendo el directorio de dataDirectory');\r\n            });\r\n\r\n        }\r\n      }, (err) => {\r\n        this.mostrarToast('Error obteniendo la galerÃ­a');\r\n      });\r\n\r\n  }\r\n\r\n  actualizaLogoEmpresa() {\r\n    setTimeout(() => {\r\n      this.configuracionService.generarRutaLogoReutilizable();\r\n    }, 500);\r\n  }\r\n\r\n  guardarConfiguracionClick = () => {\r\n    if (!this.config.servidorIp) {\r\n      this.mostrarToast('Por favor ingrese la IP del servidor');\r\n      return;\r\n    }\r\n\r\n    if (this.config.servidorIp.split('.').length !== 4 && this.config.servidorIp.toLocaleLowerCase() !== 'localhost') {\r\n      this.mostrarToast('Por favor ingrese una IP vÃ¡lida');\r\n      return;\r\n    }\r\n\r\n    if (!this.config.servidorPuerto) {\r\n      this.mostrarToast('Por favor ingrese el puerto del servidor');\r\n      return;\r\n    }\r\n\r\n    this.configuracionService.guardarConfiguracion()\r\n      .then(() => {\r\n        this.mostrarToast('ConfiguraciÃ³n guardada');\r\n      })\r\n      .catch((error: ErrorNativeStorage) => {\r\n        this.mostrarToast(`Error guardando la configuraciÃ³n: ${error.exception}`);\r\n      });\r\n  }\r\n\r\n\r\n  async ValidarLicencia() {\r\n    const alert = await this.alert.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Confirmar Licencia!',\r\n      message: 'Desea Validar La <strong>Licencia</strong>!!!',\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Confirmar',\r\n          handler: () => {\r\n            if (this.config.servidorIp !== null && this.config.servidorIp !== undefined && this.config.servidorIp !== ''){\r\n              this.sesionService.agregarLicencia(this.config);\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  configurarImpresoraClick() {\r\n    /**\r\n     * Se genera lÃ³gica para consulta de dispositivos bluetooth.\r\n     */\r\n\r\n    this.print.searchBt().then(res=>{\r\n      let inputs = [];\r\n      for(let item of res){\r\n        inputs.push({\r\n          name: item.address,\r\n          type: 'radio',\r\n          value: item.address,\r\n          label: item.name\r\n        });\r\n      }\r\n\r\n      let modalPrint;\r\n      this.alert.create({\r\n        header: 'Dispositivos',\r\n        inputs: inputs,\r\n        buttons:[\r\n          {\r\n            text: 'Cancelar',\r\n            role: 'cancel',\r\n            cssClass:'secondary'\r\n          },\r\n          {\r\n            text: 'Aceptar',\r\n            handler: data=>{\r\n              this.configuracionService.guardarImpresora(data).then(res=>{\r\n                this.toastController.create({\r\n                  message: 'Impresora configurada satisfactoriamente',\r\n                  duration: 2000\r\n                }).then(res=>{\r\n                  res.present();\r\n                })\r\n              }).catch(err=>{\r\n                  this.toastController.create({ message: err.message, duration: 2000}).then(obj=>{ obj.present()});\r\n              })\r\n            }\r\n          }\r\n        ]\r\n      }).then(res=>{\r\n        modalPrint = res;\r\n        res.present();\r\n      });\r\n    }).catch(err=>{\r\n      this.alert.create({\r\n        header: 'Error',\r\n        message: 'Se ha presentado un error al conectarnos con sus dispositivos Bluetooth, por favor revise su conexiÃ³n',\r\n        buttons: ['Ok']\r\n      }).then((res)=>{\r\n        res.present();\r\n      })\r\n    })\r\n  }\r\n\r\n  mostrarToast = (mensaje: string) => {\r\n    this.toastController.create({\r\n      message: mensaje,\r\n      duration: 2000\r\n    }).then(toast => {\r\n      toast.present();\r\n    });\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb25maWcucGFnZS5zY3NzIn0= */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ConfigPage } from './config.page';\r\nimport { OwnComponentsModule } from 'src/app/own-components/own-components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConfigPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    OwnComponentsModule\r\n  ],\r\n  declarations: [ConfigPage]\r\n})\r\nexport class ConfigPageModule {}\r\n"],"sourceRoot":"webpack:///"}